{"version":3,"sources":["components/ImageGallery/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","App.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Loader/Loader.module.css","components/Error/Error.module.css","components/Searchbar/Searchbar.jsx","components/ImageGallery/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Button/Button.jsx","components/Loader/Loader.jsx","components/Error/Error.jsx","components/Modal/Modal.jsx","services/api.js","App.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","Searchbar","state","inputValue","hendleSubmitForm","e","onSubmit","props","preventDefault","setState","handleChangeInput","currentTarget","value","this","className","s","Searchform","handleSubmitForm","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","autoComplete","autoFocus","placeholder","onChange","Component","ptopTypes","PropTypes","func","isRequired","ImageGalleryItem","imagesArr","onImageClick","map","id","webformatURL","largeImageURL","imageName","pageURL","replace","onClick","ImageGalleryItemImage","src","alt","ImageGallery","Button","Loader","isLoading","color","height","width","timeout","loading","Error","text","modalRoot","document","querySelector","Modal","handleKeyDown","code","onClose","handleBackdropClick","target","window","addEventListener","removeEventListener","children","createPortal","Overlay","axios","defaults","baseURL","fetchImages","searchQuery","currentPage","perPage","get","then","response","data","hits","App","isLoadingArr","isLoadingImg","error","largeImageLink","noResults","componentDidUpdate","prevProps","prevState","a","length","onSubmitSearch","onClickLoadMore","scrollTo","top","documentElement","scrollHeight","behavior","onCloseModal","onLoadLargeImg","options","api","catch","finally","shouldRenderloadMoreBtn","position","onLoad","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.26965944.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__3ELbX\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__3r-R9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__1Y84c\",\"Modal\":\"Modal_Modal__1dJU3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__1yRfp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__3wlw_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__47EZu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Loader\":\"Loader_Loader__3psQo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Error\":\"Error_Error__3SP_F\"};","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport s from './Searchbar.module.css';\r\n\r\nclass Searchbar extends Component {\r\n    state = {\r\n        inputValue: '',\r\n    };\r\n\r\n    hendleSubmitForm = e => {\r\n        const { onSubmit } = this.props;\r\n        const { inputValue } = this.state;\r\n\r\n        e.preventDefault();\r\n        onSubmit(inputValue);\r\n        this.setState({ inputValue: '' });\r\n    };\r\n    \r\n    handleChangeInput = ({ currentTarget }) => {\r\n    this.setState({ inputValue: currentTarget.value });\r\n    };\r\n    \r\n    render() {\r\n        const { inputValue } = this.state;\r\n        return (\r\n            <header className={s.Searchbar}>\r\n                <form className={s.Searchform} onSubmit={this.handleSubmitForm}>\r\n                    <button type=\"submit\" className={s.SearchFormButton}>\r\n                        <span className={s.SearchFormButtonLabel}>Search</span>\r\n                    </button>\r\n                    <input\r\n                        className={s.SearchFormInput}\r\n                        type=\"text\"\r\n                        autoComplete=\"off\"\r\n                        autoFocus\r\n                        placeholder=\"Search images and photos\"\r\n                        value={inputValue}\r\n                        onChange={this.handleChangeInput}\r\n                    />\r\n                </form>\r\n            </header>\r\n        );\r\n    };\r\n};\r\n\r\nSearchbar.ptopTypes = {\r\n    onSubmit: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Searchbar;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport s from './ImageGalleryItem.module.css';\r\n\r\nconst ImageGalleryItem = ({ imagesArr, onImageClick }) =>\r\n    imagesArr.map(({ id, webformatURL, largeImageURL, pageURL }) => {\r\n        const imageName = pageURL.replace('https://pixabay.com/photos/', '');\r\n    return (\r\n      <li\r\n        onClick={() => {\r\n          onImageClick(largeImageURL, imageName);\r\n        }}\r\n        className={s.ImageGalleryItem}\r\n        key={id}\r\n      >\r\n        <img\r\n          className={s.ImageGalleryItemImage}\r\n          src={webformatURL}\r\n          alt={imageName}\r\n        />\r\n      </li>\r\n    );\r\n  });\r\n\r\nImageGalleryItem.propTypes = {\r\n  imagesArr: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      id: PropTypes.number.isRequired,\r\n      webformatURL: PropTypes.string.isRequired,\r\n      largeImageURL: PropTypes.string.isRequired,\r\n      pageURL: PropTypes.string.isRequired,\r\n    }).isRequired,\r\n  ).isRequired,\r\n  onImageClick: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ImageGalleryItem;","import React from 'react';\r\nimport ImageGalleryItem from './ImageGalleryItem';\r\nimport s from './ImageGallery.module.css';\r\n\r\nconst ImageGallery = ({ imagesArr, onImageClick }) => (\r\n  <ul className={s.ImageGallery}>\r\n    <ImageGalleryItem imagesArr={imagesArr} onImageClick={onImageClick} />\r\n  </ul>\r\n);\r\n\r\nexport default ImageGallery;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport s from './Button.module.css';\r\n\r\nconst Button = ({ onClick })=> (\r\n    <button type=\"button\" className={s.Button} onClick={onClick}>Load more</button>\r\n    );\r\n\r\nButton.propTypes = {\r\n    onClick: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Button;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Loaders from \"react-loader-spinner\";\r\nimport s from './Loader.module.css';\r\n\r\nconst Loader = ({ isLoading }) => (\r\n    <>\r\n        <Loaders className={s.Loader}\r\n            type=\"Puff\"\r\n            color=\"#00BFFF\"\r\n            height={100}\r\n            width={100}\r\n            timeout={3000}\r\n            loading={isLoading} />\r\n    </>\r\n);\r\n\r\nLoader.propTypes = {\r\n    isLoading: PropTypes.bool.isRequired, \r\n};\r\n\r\nexport default Loader;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport s from './Error.module.css';\r\n\r\nconst Error = ({ text }) => <h2 className={s.Error}>{text}</h2>;\r\n\r\nError.propTypes = {\r\n  text: PropTypes.string.isRequired,\r\n};\r\n\r\nexport default Error;","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { createPortal } from 'react-dom';\r\nimport s from './Modal.module.css';\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nexport default class Modal extends Component {\r\n    componentDidMount() {\r\n        window.addEventListener('keydown', this.handleKeyDown);\r\n    };\r\n\r\n    componentWillUnmount() {\r\n        window.removeEventListener('keydown', this.handleKeyDown);\r\n    };\r\n\r\n    handleKeyDown = ({ code }) => {\r\n        const { onClose } = this.props;\r\n        code === 'Escape' && onClose();\r\n    };\r\n\r\n    handleBackdropClick = ({ target, currentTarget }) => {\r\n        const { onClose } = this.props;\r\n        target === currentTarget && onClose();\r\n    };\r\n    \r\n    render() {\r\n        const { children } = this.props;\r\n        return createPortal(\r\n            <div className={s.Overlay} onClick={this.handleBackdropClick}>\r\n                <div className={s.Modal}>{children}</div>\r\n            </div>,\r\n            modalRoot,\r\n        );\r\n    };\r\n};\r\n\r\nModal.propTypes = {\r\n    children: PropTypes.element.isRequired,\r\n    onClose: PropTypes.func.isRequired,  \r\n}","import axios from 'axios';\r\n\r\nconst key = '19312613-88e2f4e8eebe9f93070d49b64';\r\naxios.defaults.baseURL = 'https://pixabay.com/api/';\r\n\r\nconst fetchImages = ({ searchQuery = '', currentPage = 1, perPage = 12 }) => {\r\n    return axios\r\n        .get(\r\n            `?image_type=photo&orientation=horizontal&q=${searchQuery}&page=${currentPage}&per_page=${perPage}&key=${key}`,\r\n        )\r\n        .then(response => response.data.hits);\r\n};\r\n\r\nexport default fetchImages;\r\n\r\n","import React, { Component } from 'react';\nimport s from './App.module.css';\nimport Searchbar from './components/Searchbar';\nimport ImageGallery from './components/ImageGallery';\nimport Button from './components/Button';\nimport Loader from './components/Loader';\nimport Error from './components/Error';\nimport Modal from './components/Modal';\nimport api from './services/api';\n\nexport default class App extends Component {\n  state = {\n    imagesArr: [],\n    currentPage: 1,\n    searchQuery: '',\n    isLoadingArr: false,\n    isLoadingImg: false,\n    error: null,\n    largeImageLink: '',\n    imageName: '',\n    noResults: false,\n  };\n\n  componentDidUpdate = async (prevProps, prevState) => {\n    if (prevState.searchQuery !== this.state.searchQuery) {\n      await this.fetchImages();\n      if (this.state.imagesArr.length === 0) {\n        this.setState({ noResults: true });\n      }\n    }\n  };\n  \n  onSubmitSearch = searchQuery => {\n    if (searchQuery !== this.state.searchQuery) {\n      this.setState({\n        searchQuery,\n        currentPage: 1,\n        imagesArr: [],\n        error: null,\n        noResults: false,\n      });\n    }\n  };\n\n  onClickLoadMore = async () => {\n    await this.fetchImages();\n\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    });\n  };\n\n  onImageClick = (largeImageLink, imageName) => {\n    this.setState({\n      largeImageLink,\n      imageName,\n      isLoadingImg: true,\n    });\n  };\n\n  onCloseModal = () => {\n    this.setState({\n      largeImageLink: null,\n    });\n  };\n\n  onLoadLargeImg = () => {\n    this.setState({ isLoadingImg: false });\n  };\n\n  fetchImages = async () => {\n    const { currentPage, searchQuery } = this.state;\n    const options = { currentPage, searchQuery };\n\n    this.setState({ isLoadingArr: true, error: null });\n\n    await api\n      .fetchImages(options)\n      .then(hits => {\n        this.setState(prevState => ({\n          imagesArr: [...prevState.imagesArr, ...hits],\n          currentPage: prevState.currentPage + 1,\n        }));\n      })\n      .catch(error => this.setState({ error }))\n      .finally(() => {\n        this.setState({ isLoadingArr: false });\n      });\n  };\n\n  render() {\n     const {\n      imagesArr,\n      isLoadingArr,\n      isLoadingImg,\n      error,\n      largeImageLink,\n      imageName,\n      noResults,\n      searchQuery,\n    } = this.state;\n    const shouldRenderloadMoreBtn = imagesArr.length > 0 && !isLoadingArr;\n    \n   return (\n      <div className={s.App}>\n        {largeImageLink && (\n          <Modal onClose={this.onCloseModal}>\n            <>\n              <Loader isLoading={isLoadingImg} position=\"center\" />\n              <img\n                onLoad={this.onLoadLargeImg}\n                src={largeImageLink}\n                alt={imageName}\n              />\n            </>\n          </Modal>\n        )}\n        <Searchbar onSubmit={this.onSubmitSearch} />\n        {noResults && (\n          <Error text={`Your search ${searchQuery} did not match any image.`} />\n        )}\n        <ImageGallery imagesArr={imagesArr} onImageClick={this.onImageClick} />\n        <Loader isLoading={isLoadingArr} position=\"bottom\" />\n        {error && <Error text=\"Something went wrong. Please try again.\" />}\n        {shouldRenderloadMoreBtn && <Button onClick={this.onClickLoadMore} />}\n      </div>\n    );\n  }\n};\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__1N-v7\",\"Searchform\":\"Searchbar_Searchform__Phl_A\",\"SearchFormButton\":\"Searchbar_SearchFormButton__Hr_SR\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__1Be10\",\"SearchFormInput\":\"Searchbar_SearchFormInput__IfkFF\"};"],"sourceRoot":""}