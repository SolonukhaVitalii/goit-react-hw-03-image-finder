{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","App.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Loader/Loader.module.css","components/Error/Error.module.css","components/Searchbar/Searchbar.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Button/Button.jsx","components/Loader/Loader.jsx","components/Error/Error.jsx","components/Modal/Modal.jsx","services/images-api.js","App.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","Searchbar","state","inputValue","handleSubmitForm","e","onSubmit","props","preventDefault","setState","handleChangeInput","currentTarget","value","this","className","s","Searchform","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","autoComplete","autoFocus","placeholder","onChange","Component","ptopTypes","PropTypes","func","isRequired","ImageGalleryItem","id","webformatURL","largeImageURL","onImageClick","onClick","ImageGalleryItemImage","src","data-source","alt","ImageGallery","imagesArr","map","elem","Button","Loader","isLoading","color","height","width","timeout","loading","Error","text","modalRoot","document","querySelector","Modal","handleKeyDown","code","onClose","handleBackdropClick","target","window","addEventListener","removeEventListener","children","createPortal","Overlay","axios","defaults","baseURL","searchQuery","currentPage","perPage","get","then","response","data","hits","App","isLoadingArr","isLoadingImg","error","largeImageLink","imageName","noResults","componentDidUpdate","prevProps","prevState","a","fetchImages","length","onSubmitSearch","onClickLoadMore","scrollTo","top","documentElement","scrollHeight","behavior","onCloseModal","onLoadLargeImg","options","imagesApi","catch","finally","shouldRenderloadMoreBtn","position","onLoad","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.7757c943.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__1x5D7\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__3oCw6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__1Y84c\",\"Modal\":\"Modal_Modal__1dJU3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__1yRfp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__3wlw_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__47EZu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Loader\":\"Loader_Loader__3psQo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Error\":\"Error_Error__3SP_F\"};","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport s from './Searchbar.module.css';\r\n\r\nclass Searchbar extends Component {\r\n    state = {\r\n        inputValue: '',\r\n    };\r\n\r\n    handleSubmitForm = e => {\r\n        const { onSubmit } = this.props;\r\n        const { inputValue } = this.state;\r\n        \r\n        e.preventDefault();\r\n        onSubmit(inputValue);\r\n        this.setState({ inputValue: '' });\r\n    };\r\n    \r\n    handleChangeInput = ({ currentTarget }) => { \r\n        this.setState({ inputValue: currentTarget.value });\r\n    };\r\n    \r\n    render() {\r\n        const { inputValue } = this.state;\r\n        return (\r\n            <header className={s.Searchbar}>\r\n                <form className={s.Searchform} onSubmit={this.handleSubmitForm}>\r\n                    <button type=\"submit\" className={s.SearchFormButton}>\r\n                        <span className={s.SearchFormButtonLabel}></span>\r\n                    </button>\r\n                    <input\r\n                        className={s.SearchFormInput}\r\n                        type=\"text\"\r\n                        autoComplete=\"off\"\r\n                        autoFocus\r\n                        placeholder=\"Search images and photos\"\r\n                        value={inputValue}\r\n                        onChange={this.handleChangeInput}\r\n                    />\r\n                </form>\r\n            </header>\r\n        );\r\n    };\r\n};\r\n\r\nSearchbar.ptopTypes = {\r\n    onSubmit: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Searchbar;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport s from './ImageGalleryItem.module.css';\r\n\r\nexport default function ImageGalleryItem({\r\n    id,\r\n    webformatURL,\r\n    largeImageURL,\r\n    onImageClick\r\n}) {\r\n    return (\r\n      <li className={s.ImageGalleryItem} key={id} onClick={onImageClick}>\r\n        <img className={s.ImageGalleryItemImage}\r\n          src={webformatURL}\r\n          data-source={largeImageURL}\r\n          alt=\"\"\r\n        />\r\n      </li>\r\n    )\r\n  };\r\n\r\nImageGalleryItem.propTypes = {\r\n  id: PropTypes.number.isRequired,\r\n  webformatURL: PropTypes.string.isRequired,\r\n  largeImageURL: PropTypes.string.isRequired,\r\n  onImageClick: PropTypes.func.isRequired,\r\n};","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport s from './ImageGallery.module.css';\r\nimport ImageGalleryItem from '../ImageGalleryItem';\r\n\r\nconst ImageGallery = ({ imagesArr, onImageClick }) => {\r\n  return (\r\n    <ul className={s.ImageGallery}> {\r\n      imagesArr.map((elem) => (\r\n        <ImageGalleryItem\r\n          key={elem.id}\r\n          id={elem.id}\r\n          webformatURL={elem.webformatURL}\r\n          largeImageURL={elem.largeImageURL}\r\n          onImageClick={onImageClick}\r\n        />\r\n      ))}\r\n    </ul>\r\n  )};\r\n\r\nImageGallery.propTypes = {\r\n  imagesArr: PropTypes.array.isRequired,\r\n  onImageClick: PropTypes.func.isRequired,\r\n\r\n};\r\n\r\nexport default ImageGallery;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport s from './Button.module.css';\r\n\r\nconst Button = ({ onClick })=> (\r\n    <button type=\"button\" className={s.Button} onClick={onClick}>Load more</button>\r\n    );\r\n\r\nButton.propTypes = {\r\n    onClick: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Button;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Loaders from \"react-loader-spinner\";\r\nimport s from './Loader.module.css';\r\n\r\nconst Loader = ({ isLoading }) => (\r\n    <>\r\n        <Loaders className={s.Loader}\r\n            type=\"Puff\"\r\n            color=\"#00BFFF\"\r\n            height={100}\r\n            width={100}\r\n            timeout={1000}\r\n            loading={isLoading} />\r\n    </>\r\n);\r\n\r\nLoader.propTypes = {\r\n    isLoading: PropTypes.bool.isRequired, \r\n};\r\n\r\nexport default Loader;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport s from './Error.module.css';\r\n\r\nconst Error = ({ text }) => <h2 className={s.Error}>{text}</h2>;\r\n\r\nError.propTypes = {\r\n  text: PropTypes.string.isRequired,\r\n};\r\n\r\nexport default Error;","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { createPortal } from 'react-dom';\r\nimport s from './Modal.module.css';\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nclass Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  handleKeyDown = ({ code }) => {\r\n    const { onClose } = this.props;\r\n\r\n    code === 'Escape' && onClose();\r\n  };\r\n\r\n  handleBackdropClick = ({ target, currentTarget }) => {\r\n    const { onClose } = this.props;\r\n\r\n    target === currentTarget && onClose();\r\n  };\r\n\r\n  render() {\r\n    const { children } = this.props;\r\n\r\n    return createPortal(\r\n      <div className={s.Overlay} onClick={this.handleBackdropClick}>\r\n        <div className={s.Modal}>{children}</div>\r\n      </div>,\r\n      modalRoot,\r\n    );\r\n  }\r\n}\r\n\r\nModal.propTypes = {\r\n  onClose: PropTypes.func.isRequired,\r\n  children: PropTypes.element.isRequired,\r\n};\r\n\r\nexport default Modal;","import axios from 'axios';\r\n\r\nconst key = '19312613-88e2f4e8eebe9f93070d49b64';\r\naxios.defaults.baseURL = 'https://pixabay.com/api/';\r\n\r\nconst fetchImages = ({ searchQuery = '', currentPage = 1, perPage = 12 }) => {\r\n  return axios\r\n    .get(\r\n      `?image_type=photo&orientation=horizontal&q=${searchQuery}&page=${currentPage}&per_page=${perPage}&key=${key}`,\r\n    )\r\n    .then(response => response.data.hits);\r\n};\r\n\r\nexport default { fetchImages };","import React, { Component } from 'react';\nimport s from './App.module.css';\nimport Searchbar from './components/Searchbar';\nimport ImageGallery from './components/ImageGallery';\nimport Button from './components/Button';\nimport Loader from './components/Loader';\nimport Error from './components/Error';\nimport Modal from './components/Modal';\nimport imagesApi from './services/images-api';\n\nclass App extends Component {\n  state = {\n    imagesArr: [],\n    currentPage: 1,\n    searchQuery: '',\n    isLoadingArr: false,\n    isLoadingImg: false,\n    error: null,\n    largeImageLink: '',\n    imageName: '',\n    noResults: false,\n  };\n\n  componentDidUpdate = async (prevProps, prevState) => {\n    if (prevState.searchQuery !== this.state.searchQuery) {\n      await this.fetchImages();\n      if (this.state.imagesArr.length === 0) {\n        this.setState({ noResults: true });\n      }\n    }\n  };\n\n  onSubmitSearch = searchQuery => {\n    if (searchQuery !== this.state.searchQuery) {\n      this.setState({\n        searchQuery,\n        currentPage: 1,\n        imagesArr: [],\n        error: null,\n        noResults: false,\n      });\n    }\n  };\n\n  onClickLoadMore = async () => {\n    await this.fetchImages();\n\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    });\n  };\n\n  onImageClick = (largeImageLink, imageName) => {\n    this.setState({\n      largeImageLink,\n      imageName,\n      isLoadingImg: true,\n    });\n  };\n\n  onCloseModal = () => {\n    this.setState({\n      largeImageLink: null,\n    });\n  };\n\n  onLoadLargeImg = () => {\n    this.setState({ isLoadingImg: false });\n  };\n\n  fetchImages = async () => {\n    const { currentPage, searchQuery } = this.state;\n    const options = { currentPage, searchQuery };\n\n    this.setState({ isLoadingArr: true, error: null });\n\n    await imagesApi\n      .fetchImages(options)\n      .then(hits => {\n        this.setState(prevState => ({\n          imagesArr: [...prevState.imagesArr, ...hits],\n          currentPage: prevState.currentPage + 1,\n        }));\n      })\n      .catch(error => this.setState({ error }))\n      .finally(() => {\n        this.setState({ isLoadingArr: false });\n      });\n  };\n\n  render() {\n    const {\n      imagesArr,\n      isLoadingArr,\n      isLoadingImg,\n      error,\n      largeImageLink,\n      imageName,\n      noResults,\n      searchQuery,\n    } = this.state;\n    const shouldRenderloadMoreBtn = imagesArr.length > 0 && !isLoadingArr;\n\n    return (\n      <div className={s.App}>\n        {largeImageLink && (\n          <Modal onClose={this.onCloseModal}>\n            <>\n              <Loader isLoading={isLoadingImg} position=\"center\" />\n              <img\n                onLoad={this.onLoadLargeImg}\n                src={largeImageLink}\n                alt={imageName}\n              />\n            </>\n          </Modal>\n        )}\n        <Searchbar onSubmit={this.onSubmitSearch} />\n        {noResults && (\n          <Error text={`Your search ${searchQuery} did not match any image.`} />\n        )}\n        <ImageGallery imagesArr={imagesArr} onImageClick={this.onImageClick} />\n        <Loader isLoading={isLoadingArr} position=\"bottom\" />\n        {error && <Error text=\"Something went wrong. Please try again.\" />}\n        {shouldRenderloadMoreBtn && <Button onClick={this.onClickLoadMore} />}\n      </div>\n    );\n  }\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__1N-v7\",\"Searchform\":\"Searchbar_Searchform__Phl_A\",\"SearchFormButton\":\"Searchbar_SearchFormButton__Hr_SR\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__1Be10\",\"SearchFormInput\":\"Searchbar_SearchFormInput__IfkFF\"};"],"sourceRoot":""}